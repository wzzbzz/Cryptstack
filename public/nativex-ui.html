<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- other og/meta tags stay the same -->
    <meta property="og:title" content="The Cryptstack">
    <meta property="og:description" content="An interactive test bed for hobbyist cryptography and ciphertext generation + LLM general intelligence experiments.">
    <meta property="og:image" content="https://cryptstack.jimwilliamsconsulting.com/images/og_image.png">
    <meta property="og:url" content="https://cryptstack.jimwilliamsconsulting.com/">
    <meta property="og:type" content="website">
    <title>NativeX Testbed</title>
    <link rel="stylesheet" href="/assets/styles.css">
</head>

<body>

<h1>NativeX Cipher Testbed</h1>

<div id="container">

    <button id="toggle-crib">Show Crib Sheet</button>

    <div id="crib">
        <!-- remove class="closed" from here â€“ JS now controls it -->
        <h2>Crib Sheet</h2>
        <table id="crib-table">
            <thead>
            <tr>
                <th>Plaintext</th>
                <th>Ciphertext</th>
                <th>Decode Valid</th>
            </tr>
            </thead>
            <tbody id="crib-body">
            <!-- Filled by JS -->
            </tbody>
        </table>
        <button id="copy-json">Copy JSON</button>
    </div>
    
    <!-- RIGHT COLUMN: STACK BUILDER -->
    <div id="stack-ui">
        <h2>Key</h2>
        <input type="text" id="key-input" placeholder="Enter key..." value="secretword" style="width: 100%; padding: 8px; margin-bottom: 10px; box-sizing: border-box;">
        <label for="cribset-select"><strong>Cribset:</strong></label>
        <select id="cribset-select" style="margin-bottom:10px; width:100%;">
            <option value="0">Cribset 1</option>
            <option value="1">Cribset 2</option>
            <option value="2">Cribset 3</option>
        </select>

        <h2>Stack Builder</h2>

        <ul id="stack-list">
            <!-- Draggable items filled by JS -->
        </ul>

        <!-- <label for="suite-select"><strong>Suite:</strong></label>
        <select id="suite-select" style="margin-bottom:10px; width:100%;">
            <option value="">Select a suite...</option>
            <option value="basic">NativeX</option>
            <option value="reverse">CipherforgeSuite</option>
            <option value="alphanumeric">Alphanumeric</option>
            <option value="symbols">Symbols</option>
            <option value="longtext">Long Text</option>
        </select> -->

        <select id="add-layer">

            <option value="">Add layer...</option>
            <!-- <option>HailCaesar</option> -->
            <option disabled>Transposition Ciphers</option>
            <option>GiveItToMeStraight</option>
            <option>Chakra</option>
            <option disabled>Substitution Ciphers</option>
            <option>CutiePie</option>
            <option>elBandito</option>
            <option disabled>base64, basically.</option>
            <option>SwappyBird</option>
            
        </select>

        <button id="clear-stack">Clear Stack</button>

        <div id="preview-wrapper">
            <div id="plaintext">The phrase that pays</div>
            <div id="ciphertext"></div>
            <div id="decryption_valid"></div>
        </div>


        <h2>Create Experiment</h2>
        <div id="create-experiment-section">

            <label for="experiment-prompt"><strong>Challenge Prompt:</strong></label>
            <textarea id="experiment-prompt" placeholder="tune your LLM with this prompt" rows="3"></textarea>

            <label for="experiment-plaintext"><strong>Plaintext:</strong></label>
            <input type="text" id="experiment-plaintext" placeholder="The phrase that pays">
            <div id="experiment-ciphertext"></div>

            <div>
                <button id="copy-full-prompt">Copy Challenge Prompt</button>
            </div>
            <div id="experiment-status"></div>
        </div>

        <h2>Encode</h2>
        <div>
            <input type="text" id="encode-input" placeholder="Enter text to encode...">
            <button id="encode-submit">Encode</button>
            <div id="encode-output"></div>
            <button id="copy-encoded">Copy to Clipboard</button>
        </div>
        <h2>Decode</h2>
        <div>
            <input type="text" id="decode-input" placeholder="Enter text to decode...">
            <button id="decode-submit">Decode</button>
            <div id="decode-output"></div>
            <button id="copy-decoded">Copy to Clipboard</button>
        </div>

    </div>

</div>

<script type="module" src="/assets/main.js"></script>

</body>
</html>
